/*
    Programmer : Anamaria Andra Pescaru
    Cerinta : Cost produse
SunteÈ›i responsabili de crearea unui soft pentru gestiunea comenzilor pentru un magazin online.
Date de intrare:
Se vor citi de la tastaturÄƒ linii separate conÈ›inÃ¢nd urmÄƒtoarele date, Ã®n ordine:
â— Un numÄƒr natural ğ‘› Ïµ {1, 2}reprezentÃ¢nd o comandÄƒ;
â— PÃ¢nÄƒ la Ã®ntÃ¢lnirea EOF se vor citi linii conÈ›inÃ¢nd datele tranzacÈ›iilor diferite efectuate de clienÈ›i sub forma:
<nume_client> <nr_produse> <pret_produs>
unde:
<nume_client> este un È™ir de maxim 50 de caractere fÄƒrÄƒ spaÈ›ii reprezentÃ¢nd numele clientului
<nr_produse> este o valoare Ã®ntreagÄƒ fÄƒrÄƒ semn reprezentÃ¢nd numÄƒrul de produse din tranzacÈ›ie
<pret_produs> este o valoare Ã®ntreagÄƒ fÄƒrÄƒ semn reprezentÃ¢nd preÈ›ul fiecÄƒrui produs din tranzacÈ›ie
Un client poate face mai multe achiziÈ›ii, iar preÈ›urile produselor pot varia Ã®ntre achiziÈ›ii diferite.
Ãn funcÈ›ie de valorea comenzii (1 sau 2), se vor executa diferite procese:
â— Valoarea 1 â€“ Se vor afiÈ™a pe ecran, Ã®n ordinea primei introduceri de la tastaturÄƒ, numele tuturor clienÈ›ilor care
au achiziÈ›ionat Ã®n total cel puÈ›in 20 produse sau care au cheltuit o sumÄƒ mai mare sau egalÄƒ cu 1000. Fiecare
nume se va afiÈ™a pe o nouÄƒ linie, urmat de caracterul newline. Pentru a simplifica afiÈ™area, fiecare linie (inclusiv
ultima) va fi urmatÄƒ de un caracter newline (tasta Enter). DacÄƒ nu existÄƒ niciun client care sÄƒ satisfacÄƒ aceste
cerinÈ›e se va afiÈ™a '-' pe ecran.
â— Valoarea 2 â€“ Magazinul oferÄƒ reduceri la achiziÈ›ia mai multor produse de acelaÈ™i fel astfel: la fiecare 5 produse
de acelaÈ™i fel cumpÄƒrate se scade valoarea unuia dintre produse. SÄƒ se determine dacÄƒ existÄƒ mai mulÈ›i clienÈ›i
ce au cheltuit aceeaÈ™i sumÄƒ. Ãn caz afirmativ, sÄƒ se afiÈ™eze pe ecran tuplete formate din numele clienÈ›ilor care
au cheltuit aceeaÈ™i sumÄƒ, Ã®n ordinea primei introduceri de la tastaturÄƒ a primului nume din tuplet. Pentru a
simplifica afiÈ™area, fiecare nume va fi urmat de caracterul ' ' (spaÈ›iu) È™i fiecare linie (inclusiv ultima) va fi urmatÄƒ
de un caracter newline (tasta Enter). Ãn caz contrar, se va afiÈ™a '-' pe ecran.

*/
#include<stdio.h>
#include<stdlib.h>
#include <string.h>

typedef long long ll;
typedef struct tranzactii tranzactii;

struct tranzactii{
char *nume;
int nr_produse;
int pret;
};

int main(){

   //FILE *input, *output;
   // input = fopen("input.txt", "rt");
   // output = fopen("output.txt", "wt");
    
    int n;
    scanf("%d", &n);

    tranzactii *p = (tranzactii*)malloc(100*sizeof(tranzactii));
    int i = 0, ok = 0;
    (p + i)->nume = (char*)malloc(51*sizeof(char));

    while(scanf("%s", (p + i)->nume) != EOF){
        scanf("%d", &((p+i)->nr_produse));
        scanf("%d", &((p+i)->pret));
        ((p+i)->pret) = ((p+i)->pret) * ((p+i)->nr_produse);
        i++;
         (p + i)->nume = (char*)malloc(51*sizeof(char));
    }

    tranzactii *copie = (tranzactii*)malloc(100*sizeof(tranzactii));

    int m = i, l = 0;
    for(i = 0; i < m ; i++){
        if(((p + i)->nr_produse) != -1){
            for(int j = i + 1;j < m; j ++){
            if(*((p + i)->nume) == *((p + j)->nume)){
                ((p + i)->nr_produse) += ((p + j)->nr_produse);
                ((p + i)->pret) += ((p + j)->pret) ;
                (p + j)->nr_produse = -1;
            }
        }
        (copie + l)->nume = (char*)malloc(51*sizeof(char));
        (copie + l)->nume = (p + i)->nume;
        ((copie + l)->nr_produse) = ((p + i)->nr_produse);
        ((copie + l)->pret) = ((p + i)->pret);
        l ++;
        }
        
    }
    for(i = 0; i < l;i ++){
        if(((copie + i)->nr_produse)>= 20 || ((copie + i)->pret) >= 1000)
         printf("%s\n", (copie + i)->nume );
    }

	return 0;
}


